---
title: "Linear Algebra"
author: "Marc-André Désautels"
date: "15 février 2018"
header-includes:
   - \usepackage{xfrac}
output:
  html_document: default
  pdf_document: 
    keep_tex: yes
    latex_engine: xelatex
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
tridiag <- function(upper, lower, main){
  out <- matrix(0,length(main),length(main))
  diag(out) <- main
  indx <- seq.int(length(upper))
  out[cbind(indx+1,indx)] <- lower
  out[cbind(indx,indx+1)] <- upper
  return(out)
}
```

# Utilisation de `R` pour produire du code LaTeX en algèbre linéaire

## Initialisation de la librairie

Nous devons installer la librairie. Si vous n'avez pas la librairie `devtools`, vous devez l'installer.

```{r, eval=FALSE}
install.packages("devtools")
```

Vous installer ensuite la librairie à l'aide de la commande suivante:
```{r, eval=FALSE}
devtools::install_github("desautm/linalgr")
```

Vous pouvez charger la librairie:
```{r}
library(linalgr)
```

## Affichage de matrices

Nous allons définir quelques matrices:
```{r}
m <- 5
n <- 5
A <- matrix(sample(-10:10, m*n, replace = TRUE), m, n)
B <- matrix(sample(-10:10, m, replace = TRUE), m, 1)
```

Voici l'affichage directement avec `R`:
```{r}
A
B
```

## Affichage avec la librairie `linalgr`

Pour afficher, il faut utiliser l'option `results = 'asis'` dans le bloc de code `R`.

Voici l'affichage en utilisant la librairie. 
```{r, results=FALSE, collapse=TRUE}
mat2latex(A)
mat2latex(B)
```

```{r, echo=FALSE, results='asis'}
mat2latex(A)
mat2latex(B)
```

# Affichage de SEL

## Avec des nombres entiers

```{r, results=FALSE, collapse=TRUE}
sel2latex(A,B, variables = "xi")
```

```{r, echo=FALSE, results='asis'}
sel2latex(A,B, variables = "xi")
```

## Avec d'autres variables

```{r, results=FALSE, collapse=TRUE}
sel2latex(A,B, sel = FALSE, variables = "a")
```

```{r, echo=FALSE, results='asis'}
sel2latex(A,B, sel = FALSE, variables = "a")
```

## Avec des fractions décimales

```{r, results=FALSE, collapse=TRUE}
sel2latex(A/3,B, variables = "xi", digits = 3)
```

```{r, echo=FALSE, results='asis'}
sel2latex(A/3,B, variables = "xi", digits = 3)
```

## Avec des fractions ordinaires

### Mode en ligne

```{r, results=FALSE, collapse=TRUE}
sel2latex(A/3,B, variables = "xi", style = "inline")
```

```{r, echo=FALSE, results='asis'}
sel2latex(A/3,B, variables = "xi", style = "inline")
```

### Mode commande frac

```{r, results=FALSE, collapse=TRUE}
sel2latex(A/3,B, variables = "xi", style = "frac")
```

```{r, echo=FALSE, results='asis'}
sel2latex(A/3,B, variables = "xi", style = "frac")
```


### Matrices creuses

```{r}
p <- 8
C <- tridiag(sample(-10:10, p-1, replace = TRUE),
             sample(-10:10, p-1, replace = TRUE),
             sample(-10:10, p, replace = TRUE))
D <- matrix(sample(-10:10, p, replace = TRUE),p,1)
```

```{r echo=FALSE, results='asis'}
sel2latex(C, D, variables = "xi")
```

